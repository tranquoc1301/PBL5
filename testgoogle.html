<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Get Google ID Token</title>
    <script src="https://www.gstatic.com/firebasejs/9.x.x/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.x.x/firebase-auth.js"></script>
  </head>
  <body>
    <button id="google-signin-btn">Sign in with Google</button>
    <script>
      // Thay bằng cấu hình từ Firebase Console
      const firebaseConfig = {
        apiKey: "your-api-key",
        authDomain: "your-project-id.firebaseapp.com",
        projectId: "your-project-id",
        storageBucket: "your-project-id.appspot.com",
        messagingSenderId: "your-sender-id",
        appId: "your-app-id",
      };

      // Khởi tạo Firebase
      firebase.initializeApp(firebaseConfig);

      // Cấu hình Google Sign-In
      const provider = new firebase.auth.GoogleAuthProvider();

      // Xử lý nút đăng nhập
      document
        .getElementById("google-signin-btn")
        .addEventListener("click", () => {
          firebase
            .auth()
            .signInWithPopup(provider)
            .then(async (result) => {
              const idToken = await result.user.getIdToken();
              console.log("ID Token:", idToken);
              alert(
                "ID Token đã được in ra console. Copy nó để dùng trong Postman!"
              );
            })
            .catch((error) => {
              console.error("Lỗi đăng nhập:", error);
            });
        });
    </script>
  </body>
</html>
